<!-- Contact Form Stripe-Style -->
<form method="post" 
      action="{% url 'contact_submit' %}" 
      class="space-y-6"
      x-data="{ 
          submitting: false,
          success: false 
      }"
      @submit="submitting = true">
    
    {% csrf_token %}
    
    <!-- Name & Email row -->
    <div class="grid md:grid-cols-2 gap-4">
        <div>
            <label for="name" class="block text-sm font-medium text-slate-700 mb-2">
                Nombre completo
            </label>
            <input type="text" 
                   name="name" 
                   id="name" 
                   required
                   placeholder="Tu nombre"
                   class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 placeholder-slate-400">
        </div>
        
        <div>
            <label for="email" class="block text-sm font-medium text-slate-700 mb-2">
                Email
            </label>
            <input type="email" 
                   name="email" 
                   id="email" 
                   required
                   placeholder="tu@email.com"
                   class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 placeholder-slate-400">
        </div>
    </div>
    
    <!-- Phone & Company row -->
    <div class="grid md:grid-cols-2 gap-4">
        <div>
            <label for="phone" class="block text-sm font-medium text-slate-700 mb-2">
                Teléfono <span class="text-slate-400 font-normal">(opcional)</span>
            </label>
            <input type="tel" 
                   name="phone" 
                   id="phone"
                   placeholder="+56 9 1234 5678"
                   class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 placeholder-slate-400">
        </div>
        
        <div>
            <label for="company" class="block text-sm font-medium text-slate-700 mb-2">
                Empresa <span class="text-slate-400 font-normal">(opcional)</span>
            </label>
            <input type="text" 
                   name="company" 
                   id="company"
                   placeholder="Tu empresa"
                   class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 placeholder-slate-400">
        </div>
    </div>
    
    <!-- Subject -->
    <div>
        <label for="subject" class="block text-sm font-medium text-slate-700 mb-2">
            Asunto
        </label>
        <select name="subject" 
                id="subject"
                class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 bg-white">
            <option value="">Selecciona un tema</option>
            <option value="Consulta general">Consulta general</option>
            <option value="Solicitar cotización">Solicitar cotización</option>
            <option value="Soporte técnico">Soporte técnico</option>
            <option value="Alianzas comerciales">Alianzas comerciales</option>
            <option value="Otro">Otro</option>
        </select>
    </div>
    
    <!-- Message -->
    <div>
        <label for="message" class="block text-sm font-medium text-slate-700 mb-2">
            Mensaje
        </label>
        <textarea name="message" 
                  id="message" 
                  rows="4" 
                  required
                  placeholder="Cuéntanos sobre tu proyecto..."
                  class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none text-slate-900 placeholder-slate-400 resize-none"></textarea>
    </div>
    
    <!-- Submit button -->
    <div>
        <button type="submit"
                :disabled="submitting"
                :class="submitting ? 'opacity-75 cursor-not-allowed' : ''"
                class="w-full px-8 py-4 text-white font-semibold btn-stripe rounded-xl inline-flex items-center justify-center gap-2 group">
            <span x-show="!submitting">
                Enviar mensaje
            </span>
            <span x-show="submitting" x-cloak class="inline-flex items-center gap-2">
                <svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Enviando...
            </span>
            <svg x-show="!submitting" class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
            </svg>
        </button>
    </div>
    
    <!-- Privacy note -->
    <p class="text-xs text-slate-500 text-center">
        Al enviar este formulario, aceptas nuestra 
        <a href="#" class="text-primary hover:underline">política de privacidad</a>.
    </p>
</form>

<style>
    [x-cloak] { display: none !important; }
</style>